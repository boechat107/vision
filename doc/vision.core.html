<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>vision.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Vision 1.0.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li class="current"><a href="vision.core.html"><span>vision.core</span></a></li><li><a href="vision.mjpeg.html"><span>vision.mjpeg</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="vision.core.html#var---%3E"><span>--&gt;</span></a></li><li><a href="vision.core.html#var--%3ECamShift"><span>-&gt;CamShift</span></a></li><li><a href="vision.core.html#var--%3ECapture"><span>-&gt;Capture</span></a></li><li><a href="vision.core.html#var--%3EContours"><span>-&gt;Contours</span></a></li><li><a href="vision.core.html#var--%3EIplImage"><span>-&gt;IplImage</span></a></li><li><a href="vision.core.html#var--%3ESurf"><span>-&gt;Surf</span></a></li><li><a href="vision.core.html#var--%3EVideoWriter"><span>-&gt;VideoWriter</span></a></li><li><a href="vision.core.html#var-abs-diff"><span>abs-diff</span></a></li><li><a href="vision.core.html#var-bounding-rects"><span>bounding-rects</span></a></li><li><a href="vision.core.html#var-calc-optical-flow-pyr-lk"><span>calc-optical-flow-pyr-lk</span></a></li><li><a href="vision.core.html#var-camshift-init"><span>camshift-init</span></a></li><li><a href="vision.core.html#var-camshift-track"><span>camshift-track</span></a></li><li><a href="vision.core.html#var-canny"><span>canny</span></a></li><li><a href="vision.core.html#var-capture-from-cam"><span>capture-from-cam</span></a></li><li><a href="vision.core.html#var-capture-from-file"><span>capture-from-file</span></a></li><li><a href="vision.core.html#var-circle"><span>circle</span></a></li><li><a href="vision.core.html#var-clone-image"><span>clone-image</span></a></li><li><a href="vision.core.html#var-close-window"><span>close-window</span></a></li><li><a href="vision.core.html#var-contours"><span>contours</span></a></li><li><a href="vision.core.html#var-convert-color"><span>convert-color</span></a></li><li><a href="vision.core.html#var-copy-region"><span>copy-region</span></a></li><li><a href="vision.core.html#var-dilate"><span>dilate</span></a></li><li><a href="vision.core.html#var-ellipse-box"><span>ellipse-box</span></a></li><li><a href="vision.core.html#var-erode"><span>erode</span></a></li><li><a href="vision.core.html#var-flip-image"><span>flip-image</span></a></li><li><a href="vision.core.html#var-good-features-to-track"><span>good-features-to-track</span></a></li><li><a href="vision.core.html#var-grab-frame"><span>grab-frame</span></a></li><li><a href="vision.core.html#var-haar-detect-objects"><span>haar-detect-objects</span></a></li><li><a href="vision.core.html#var-hough-circles"><span>hough-circles</span></a></li><li><a href="vision.core.html#var-hough-lines"><span>hough-lines</span></a></li><li><a href="vision.core.html#var-hsv-gimp-to-opencv"><span>hsv-gimp-to-opencv</span></a></li><li><a href="vision.core.html#var-image-size"><span>image-size</span></a></li><li><a href="vision.core.html#var-in-range-s"><span>in-range-s</span></a></li><li><a href="vision.core.html#var-line"><span>line</span></a></li><li><a href="vision.core.html#var-load-cascade"><span>load-cascade</span></a></li><li><a href="vision.core.html#var-load-image"><span>load-image</span></a></li><li><a href="vision.core.html#var-map-%3ECamShift"><span>map-&gt;CamShift</span></a></li><li><a href="vision.core.html#var-map-%3ECapture"><span>map-&gt;Capture</span></a></li><li><a href="vision.core.html#var-map-%3EContours"><span>map-&gt;Contours</span></a></li><li><a href="vision.core.html#var-map-%3EIplImage"><span>map-&gt;IplImage</span></a></li><li><a href="vision.core.html#var-map-%3ESurf"><span>map-&gt;Surf</span></a></li><li><a href="vision.core.html#var-map-%3EVideoWriter"><span>map-&gt;VideoWriter</span></a></li><li><a href="vision.core.html#var-match-shapes"><span>match-shapes</span></a></li><li><a href="vision.core.html#var-match-template"><span>match-template</span></a></li><li><a href="vision.core.html#var-max-rect"><span>max-rect</span></a></li><li><a href="vision.core.html#var-move-window"><span>move-window</span></a></li><li><a href="vision.core.html#var-poly-line"><span>poly-line</span></a></li><li><a href="vision.core.html#var-pyr-down"><span>pyr-down</span></a></li><li><a href="vision.core.html#var-query-frame"><span>query-frame</span></a></li><li><a href="vision.core.html#var-query-kinect-depth"><span>query-kinect-depth</span></a></li><li><a href="vision.core.html#var-query-kinect-frame"><span>query-kinect-frame</span></a></li><li><a href="vision.core.html#var-rectangle"><span>rectangle</span></a></li><li><a href="vision.core.html#var-release"><span>release</span></a></li><li><a href="vision.core.html#var-remap"><span>remap</span></a></li><li><a href="vision.core.html#var-rotate-image"><span>rotate-image</span></a></li><li><a href="vision.core.html#var-save-image"><span>save-image</span></a></li><li><a href="vision.core.html#var-scale-image"><span>scale-image</span></a></li><li><a href="vision.core.html#var-smooth"><span>smooth</span></a></li><li><a href="vision.core.html#var-threshold"><span>threshold</span></a></li><li><a href="vision.core.html#var-undistort-map"><span>undistort-map</span></a></li><li><a href="vision.core.html#var-video-writer"><span>video-writer</span></a></li><li><a href="vision.core.html#var-view"><span>view</span></a></li><li><a href="vision.core.html#var-write-frame"><span>write-frame</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>vision.core documentation</h2><pre class="doc"></pre><div class="public" id="var---%3E"><h3>--&gt;</h3><h4 class="macro">macro</h4><div class="usage"><code>(--&gt; x)</code><code>(--&gt; x form)</code><code>(--&gt; x form &amp; more)</code></div><pre class="doc">Threads images through the forms. Passing images from call to call and relasing
all but the last image.</pre></div><div class="public" id="var--%3ECamShift"><h3>-&gt;CamShift</h3><div class="usage"><code>(-&gt;CamShift pointer)</code></div><pre class="doc">Positional factory function for class vision.core.CamShift.
</pre></div><div class="public" id="var--%3ECapture"><h3>-&gt;Capture</h3><div class="usage"><code>(-&gt;Capture pointer source)</code></div><pre class="doc">Positional factory function for class vision.core.Capture.
</pre></div><div class="public" id="var--%3EContours"><h3>-&gt;Contours</h3><div class="usage"><code>(-&gt;Contours pointer)</code></div><pre class="doc">Positional factory function for class vision.core.Contours.
</pre></div><div class="public" id="var--%3EIplImage"><h3>-&gt;IplImage</h3><div class="usage"><code>(-&gt;IplImage pointer color-space buffered-image)</code></div><pre class="doc">Positional factory function for class vision.core.IplImage.
</pre></div><div class="public" id="var--%3ESurf"><h3>-&gt;Surf</h3><div class="usage"><code>(-&gt;Surf pointer)</code></div><pre class="doc">Positional factory function for class vision.core.Surf.
</pre></div><div class="public" id="var--%3EVideoWriter"><h3>-&gt;VideoWriter</h3><div class="usage"><code>(-&gt;VideoWriter pointer)</code></div><pre class="doc">Positional factory function for class vision.core.VideoWriter.
</pre></div><div class="public" id="var-abs-diff"><h3>abs-diff</h3><div class="usage"><code>(abs-diff {p1 :pointer, t :color-space} {p2 :pointer})</code></div><pre class="doc">Calculates absolute difference between two images.
</pre></div><div class="public" id="var-bounding-rects"><h3>bounding-rects</h3><div class="usage"><code>(bounding-rects {contours :pointer})</code></div><pre class="doc">Returns the up-right bounding rectangles for contours.
</pre></div><div class="public" id="var-calc-optical-flow-pyr-lk"><h3>calc-optical-flow-pyr-lk</h3><div class="usage"><code>(calc-optical-flow-pyr-lk {a :pointer} {b :pointer} points win-size level)</code></div><pre class="doc">Calculates the optical flow for a sparse feature set using the iterative Lucas-Kanade method with pyramids.
</pre></div><div class="public" id="var-camshift-init"><h3>camshift-init</h3><div class="usage"><code>(camshift-init {img :pointer} [x y w h] vmin vmax smin)</code></div><pre class="doc">Create a camshift tracked object from a region in image.
</pre></div><div class="public" id="var-camshift-track"><h3>camshift-track</h3><div class="usage"><code>(camshift-track {img :pointer} {str :pointer})</code></div><pre class="doc">Given an image and tracked object, return box position.
</pre></div><div class="public" id="var-canny"><h3>canny</h3><div class="usage"><code>(canny {p :pointer} threshold1 threshold2 aperture-size)</code></div><pre class="doc">Implements Canny algorithm for edge detection.
</pre></div><div class="public" id="var-capture-from-cam"><h3>capture-from-cam</h3><div class="usage"><code>(capture-from-cam n)</code></div><pre class="doc">Allocates CvCapture structure and  binds it to the video camera.
</pre></div><div class="public" id="var-capture-from-file"><h3>capture-from-file</h3><div class="usage"><code>(capture-from-file f)</code></div><pre class="doc">Initializes capturing a video from a file.
</pre></div><div class="public" id="var-circle"><h3>circle</h3><div class="usage"><code>(circle {p :pointer} [x y] r c thickness)</code></div><pre class="doc">Draws simple, thick or filled circle.
</pre></div><div class="public" id="var-clone-image"><h3>clone-image</h3><div class="usage"><code>(clone-image {p :pointer, t :color-space})</code></div><pre class="doc">Makes a full clone of the image (e.g., a duplicate full size image with its own matching ROI attached)
</pre></div><div class="public" id="var-close-window"><h3>close-window</h3><div class="usage"><code>(close-window f)</code></div><pre class="doc">Hide frame.
</pre></div><div class="public" id="var-contours"><h3>contours</h3><div class="usage"><code>(contours {ip :pointer} {cp :pointer} c1 c2 level thickness)</code></div><pre class="doc">Draws contour outlines in the image
</pre></div><div class="public" id="var-convert-color"><h3>convert-color</h3><div class="usage"><code>(convert-color {p :pointer} m)</code></div><pre class="doc">Converts image from one color space to another.
m
 :rgb-hsv, :hsv-rgb, :bgr-hsv, :hsv-bgr, :bgr-gray, :gray-bgr</pre></div><div class="public" id="var-copy-region"><h3>copy-region</h3><div class="usage"><code>(copy-region {p :pointer, cs :color-space} x y width height)</code></div><pre class="doc">Make a copy of the region from image
</pre></div><div class="public" id="var-dilate"><h3>dilate</h3><div class="usage"><code>(dilate {p :pointer, t :color-space} iterations)</code></div><pre class="doc">Dilates image by using arbitrary structuring element
</pre></div><div class="public" id="var-ellipse-box"><h3>ellipse-box</h3><div class="usage"><code>(ellipse-box {p :pointer} [x y w h a] c thickness)</code></div><pre class="doc">Draws a simple or thick elliptic arc.
</pre></div><div class="public" id="var-erode"><h3>erode</h3><div class="usage"><code>(erode {p :pointer, t :color-space} iterations)</code></div><pre class="doc">Erodes image by using arbitrary structuring element
</pre></div><div class="public" id="var-flip-image"><h3>flip-image</h3><div class="usage"><code>(flip-image {p :pointer, t :color-space} m)</code></div><pre class="doc">Flips an image along one or more axis
m
  :x-axis, :y-axis, :both</pre></div><div class="public" id="var-good-features-to-track"><h3>good-features-to-track</h3><div class="usage"><code>(good-features-to-track {i :pointer} max-count quality min-distance win-size)</code></div><pre class="doc">Determines strong corners on an image.
</pre></div><div class="public" id="var-grab-frame"><h3>grab-frame</h3><div class="usage"><code>(grab-frame {c :pointer})</code></div><pre class="doc">Grabs frame from camera or AVI.
</pre></div><div class="public" id="var-haar-detect-objects"><h3>haar-detect-objects</h3><div class="usage"><code>(haar-detect-objects {i :pointer} cascade scale-factor min-neighbors flag [min-w min-h] [max-w max-h])</code></div><pre class="doc">Detects objects in the image.
[i _]
 Image to detect objects in.
cascade
 Haar classifier cascade in internal representation.
scale-factor
 The factor by which the search window is scaled between the subsequent scans.
min-neighbors
 Minimum number (minus 1) of neighbor rectangles that makes up an object.
flags
 Mode of operation. Currently the only flag that may be specified is :haar-do-canny-prunning.
[min-w min-h]
 Minimum window size.
[max-w max-h]
 Maximum window size.</pre></div><div class="public" id="var-hough-circles"><h3>hough-circles</h3><div class="usage"><code>(hough-circles {i :pointer, cs :color-space} dp min_d p1 p2 min-r max-r)</code></div><pre class="doc">Finds circles in grayscale image using some modification of Hough transform.
</pre></div><div class="public" id="var-hough-lines"><h3>hough-lines</h3><div class="usage"><code>(hough-lines {i :pointer, cs :color-space} method rho theta threshold param1 param2)</code></div><pre class="doc">Finds lines in grayscale image using a Hough transform.
</pre></div><div class="public" id="var-hsv-gimp-to-opencv"><h3>hsv-gimp-to-opencv</h3><div class="usage"><code>(hsv-gimp-to-opencv h s v)</code></div><pre class="doc">Convert HSV values from Gimp to OpenCV
</pre></div><div class="public" id="var-image-size"><h3>image-size</h3><div class="usage"><code>(image-size {p :pointer})</code></div><pre class="doc">Get image width, height.
</pre></div><div class="public" id="var-in-range-s"><h3>in-range-s</h3><div class="usage"><code>(in-range-s {p :pointer} [s11 s12 s13 s14] [s21 s22 s23 s24])</code></div><pre class="doc">Checks that image elements lie between two scalars.
</pre></div><div class="public" id="var-line"><h3>line</h3><div class="usage"><code>(line {p :pointer} [x1 y1] [x2 y2] c thickness)</code></div><pre class="doc">Draws simple or thick line segment.
</pre></div><div class="public" id="var-load-cascade"><h3>load-cascade</h3><div class="usage"><code>(load-cascade f)</code></div><pre class="doc">Load a HaarClassifierCascade.
</pre></div><div class="public" id="var-load-image"><h3>load-image</h3><div class="usage"><code>(load-image f c)</code></div><pre class="doc">Loads an image from file
c
 :color, :grayscale, :unchanged</pre></div><div class="public" id="var-map-%3ECamShift"><h3>map-&gt;CamShift</h3><div class="usage"><code>(map-&gt;CamShift m__5665__auto__)</code></div><pre class="doc">Factory function for class vision.core.CamShift, taking a map of keywords to field values.
</pre></div><div class="public" id="var-map-%3ECapture"><h3>map-&gt;Capture</h3><div class="usage"><code>(map-&gt;Capture m__5665__auto__)</code></div><pre class="doc">Factory function for class vision.core.Capture, taking a map of keywords to field values.
</pre></div><div class="public" id="var-map-%3EContours"><h3>map-&gt;Contours</h3><div class="usage"><code>(map-&gt;Contours m__5665__auto__)</code></div><pre class="doc">Factory function for class vision.core.Contours, taking a map of keywords to field values.
</pre></div><div class="public" id="var-map-%3EIplImage"><h3>map-&gt;IplImage</h3><div class="usage"><code>(map-&gt;IplImage m__5665__auto__)</code></div><pre class="doc">Factory function for class vision.core.IplImage, taking a map of keywords to field values.
</pre></div><div class="public" id="var-map-%3ESurf"><h3>map-&gt;Surf</h3><div class="usage"><code>(map-&gt;Surf m__5665__auto__)</code></div><pre class="doc">Factory function for class vision.core.Surf, taking a map of keywords to field values.
</pre></div><div class="public" id="var-map-%3EVideoWriter"><h3>map-&gt;VideoWriter</h3><div class="usage"><code>(map-&gt;VideoWriter m__5665__auto__)</code></div><pre class="doc">Factory function for class vision.core.VideoWriter, taking a map of keywords to field values.
</pre></div><div class="public" id="var-match-shapes"><h3>match-shapes</h3><div class="usage"><code>(match-shapes {img1 :pointer} {img2 :pointer} calculation)</code></div><pre class="doc">Compares two shapes.
calculation
 :i1, :i2, :i3</pre></div><div class="public" id="var-match-template"><h3>match-template</h3><div class="usage"><code>(match-template {image :pointer} {template :pointer} calculation)</code></div><pre class="doc">Compares template against overlapped image regions.
calculation
 :sqdiff, :sqdiff-normed, :ccorr, :ccorr-normed, :ccoeff, :ccoeff-normed</pre></div><div class="public" id="var-max-rect"><h3>max-rect</h3><div class="usage"><code>(max-rect [x1 y1 w1 h1] [x2 y2 w2 h2])</code></div><pre class="doc">Given an image and tracked object, return box position.
</pre></div><div class="public" id="var-move-window"><h3>move-window</h3><div class="usage"><code>(move-window f x y)</code></div><pre class="doc">Sets the position of the window.
</pre></div><div class="public" id="var-poly-line"><h3>poly-line</h3><div class="usage"><code>(poly-line image pts color thickness)</code></div><pre class="doc">Draws a closed polygon.
</pre></div><div class="public" id="var-pyr-down"><h3>pyr-down</h3><div class="usage"><code>(pyr-down {p :pointer, t :color-space})</code></div><pre class="doc">Downsamples an image.
</pre></div><div class="public" id="var-query-frame"><h3>query-frame</h3><div class="usage"><code>(query-frame {c :pointer})</code></div><pre class="doc">Grabs and returns a frame from camera or file.
</pre></div><div class="public" id="var-query-kinect-depth"><h3>query-kinect-depth</h3><div class="usage"><code>(query-kinect-depth)</code></div><pre class="doc">Grabs and returns a depth frame from kinect.
</pre></div><div class="public" id="var-query-kinect-frame"><h3>query-kinect-frame</h3><div class="usage"><code>(query-kinect-frame)</code></div><pre class="doc">Grabs and returns a frame from kinect.
</pre></div><div class="public" id="var-rectangle"><h3>rectangle</h3><div class="usage"><code>(rectangle {p :pointer} [x1 y1] [x2 y2] c thickness)</code></div><pre class="doc">Draws simple or thick rectangle.
</pre></div><div class="public" id="var-release"><h3>release</h3><div class="usage"></div><pre class="doc">Release resource.
</pre></div><div class="public" id="var-remap"><h3>remap</h3><div class="usage"><code>(remap {p :pointer, cs :color-space} distortion-map)</code></div><pre class="doc">Applies a generic geometrical transformation to the image.
</pre></div><div class="public" id="var-rotate-image"><h3>rotate-image</h3><div class="usage"><code>(rotate-image {p :pointer, cs :color-space} a)</code></div><pre class="doc">Rotate image by a degree.
</pre></div><div class="public" id="var-save-image"><h3>save-image</h3><div class="usage"><code>(save-image img f)</code></div><pre class="doc">Saves an image to the file.
</pre></div><div class="public" id="var-scale-image"><h3>scale-image</h3><div class="usage"><code>(scale-image {p :pointer, cs :color-space} s)</code></div><pre class="doc">Rotate image by a factor.
</pre></div><div class="public" id="var-smooth"><h3>smooth</h3><div class="usage"><code>(smooth {p :pointer, t :color-space} m p1 p2 p3 p4)</code></div><pre class="doc">Smooths the image in one of several ways.
m
 Type of the smoothing, :blur-no-scale, :blur, :gaussian, :median, :bilateral
p1
  The aperture width.
p2
  The aperture height.
p3
  Gaussian</pre></div><div class="public" id="var-threshold"><h3>threshold</h3><div class="usage"><code>(threshold image max-val type)</code><code>(threshold {p :pointer, cs :color-space} threshold max-val type)</code></div><pre class="doc">Applies fixed-level threshold to an image.
threshold
  Threshold value.
max-val
  Maximum value to use with :binary, :binary-inv, and :trunc thresholding types.
thresholdType
  Thresholding type (see the cvThreshold)
if you don't provide threshold it will automatically calculated using otsu method.</pre></div><div class="public" id="var-undistort-map"><h3>undistort-map</h3><div class="usage"><code>(undistort-map intrinsic distortion [width height])</code></div><pre class="doc">Computes an undistortion map.
</pre></div><div class="public" id="var-video-writer"><h3>video-writer</h3><div class="usage"><code>(video-writer f cc fps w h color?)</code></div><pre class="doc">Creates video file writer.
</pre></div><div class="public" id="var-view"><h3>view</h3><div class="usage"><code>(view f &amp; imgs)</code></div><pre class="doc">Displays the image in a frame.
</pre></div><div class="public" id="var-write-frame"><h3>write-frame</h3><div class="usage"><code>(write-frame {p :pointer} {img :pointer})</code></div><pre class="doc">Writes a frame to video file.
</pre></div></div></body></html>